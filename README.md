# Unofficial Armbian for Makerbase MKS-KLIPAD50 boards<br>(used in Sovol's [KlipperScreen](https://www.sovol3d.com/products/sovol-klipper-screen-for-sv06-sv06-plus?_pos=1&_sid=c7aa5974f&_ss=r) for SV06/SV07 3D-Printers)

These images offer full hardware support for the MKS-Klipad50, just as the original image for that device does.

They are based on a recent Armbian version (bookworm) with recent kernels (6.12.x), whereas the original image is based on Armbian buster, which is completely outdated. Most package repositories for that ancient version have been taken offline in the beginning of 2024, so installing additions is becoming more and more limited.

The images can be used as a base for installing Klipper (which is not preinstalled).<br>
See here for a [Setup Guide](https://torte71.github.io/InsideSovolKlipperScreen/armbian-mainline-setup.html),
which also handles topics like screen rotation or beeps
and aims for mimicking the Sovol setup (so you can simply re-use your prior config files and it should behave, as you are used to).

> [!NOTE]
> From Armbian perspective, the images from this project use a customized kernel, so Armbian cannot provide updates for them.
> To benefit from regular kernel and board updates, you need images built from unmodified Armbian mainline.
> (Links to such images will follow soon.)

This project is based on the [Armbian MKSPI](https://github.com/redrathnure/armbian-mkspi) project by Maxim Medvedev (redrathnure), which got included into [mainline Armbian](https://github.com/armbian/build) in December 2024.
All these Makerbase boards require the same kernel changes, but the MKS-Klipad50 needs a different devicetree (dtb) setup.

The MKS-Klipad50 changes from this project have been integrated into mainline Armbian in February 2025.

Big thanks go to Maxim Medvedev for his work and answering my questions.

----

## Supported hardware components

✓ Display (800x480x32, via internal HDMI)<br>
✓ Touchpanel (2048x2048, via internal USB)<br>
✓ USB-2/3/C (for serial communication, ethernet adapters, webcams, storage, hubs, etc.)<br>
✓ WiFi (802.11 b/g, 2.4GHz, 54MB/s)<br>
✓ SPI (for ADXL345-spi sensor)<br>
✓ Status LEDs<br>

----

## About this repository

The three mks-klipad50 branches:

1. `main`
   - This branch is intended to be used for building the images.
   - The released images are built from this branch using this [workflow](https://github.com/torte71/armbian-mksklipad/blob/main/.github/workflows/build.yml).
   - Contains the dts (for kernel) and patch (dts for bootloader ) generated by the "template" branch.
   - (This branch was formerly named "dts-symbolic")
2. `decompiled`
   - This is only intended to be used as reference.
   - It is based on a decompiled version of the original DTB, with just some minor changes to get WiFi working.
   - (This branch was formerly named "main")
3. `template`
   - This contains the common source for the DTB files used for the bootloader and the kernel along with some tools e.g. for comparing the intermediate results.
   - Development takes place here.
   - The resulting dts file and patches are copied to the "main" branch.

----

## Building

Please refer to the official Armbian build [documentation](https://docs.armbian.com/Developer-Guide_Build-Preparation/).

- Use a recent Ubuntu system (native or VM) for the build
- Clone the repository:
  - `git clone https://github.com/torte71/armbian-mksklipad50`
- Change into that directory
  - `cd armbian-mksklipad50`
- Build the image (this is a single line)
  - `./compile.sh BOARD=mksklipad50 BRANCH=current RELEASE=bookworm BUILD_MINIMAL=no BUILD_DESKTOP=no KERNEL_CONFIGURE=no BSPFREEZE=yes`

----

## Further information

- [Inside Sovol KlipperScreen](https://torte71.github.io/InsideSovolKlipperScreen/)<br>
  My unofficial resource for Sovol's KlipperScreen.<br>
  Contains information about the changes made by Makerbase/Sovol, guides for setting up Klipper based on images from this project, Unbricking and other topics.

- [Armbian MKS-PI](https://github.com/redrathnure/armbian-mkspi)<br>
  The base for this MKS-Klipad50 project.<br>
  Also contains some general information about Makerbase boards.
